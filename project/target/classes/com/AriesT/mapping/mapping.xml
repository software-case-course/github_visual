<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.AriesT.mapping.mapping">
	<insert id="insertyear" parameterType="List">
		insert into datalanguage (language, year, month, number) values
		<foreach collection="list" item="Data_Language_Use" index="index" separator=",">
			( #{Data_Language_Use.language}, #{Data_Language_Use.data.year},
			#{Data_Language_Use.data.month}, #{Data_Language_Use.data.number})
		</foreach>
	</insert>
	
	<delete id="deleteyear">
		delete from datalanguage;
	</delete>

	<select id="getallrepobystars" resultType="com.AriesT.Entity.Repository">
		select repo_name,owner,location,language,stars,forks from Repositorys order by stars desc limit 500
	</select>

	<select id="getlangrepobystars" resultType="com.AriesT.Entity.Repository">
		select repo_name,owner,location,language,stars,forks from Repositorys where language=#{language} order by stars desc limit 100
	</select>

	<select id="getallrepobyforks" resultType="com.AriesT.Entity.Repository">
		select repo_name,owner,location,language,stars,forks from Repositorys order by forks desc limit 500
	</select>

	<select id="getlangrepobyforks" resultType="com.AriesT.Entity.Repository">
		select repo_name,owner,location,language,stars,forks from Repositorys where language=#{language} order by forks desc limit 100
	</select>

	<select id="getuserlocation" resultType="com.AriesT.Entity.User">
		select * from Users where user_name=#{user_name}
	</select>
</mapper>  
